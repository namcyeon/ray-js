import e from"axios";import t from"uuid";import n from"stacktrace-js";var r,s,i,o=e=>({type:"json_string",content:{value:JSON.stringify(e)}});function u(e){return"object"===function(e){if(null==e)return(e+"").toLowerCase();const t=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"generatorfunction"===t?"function":t.match(/^(array|bigint|date|error|function|generator|regexp|symbol)$/)?t:"object"==typeof e||"function"==typeof e?"object":typeof e}(e)?o(e):((...e)=>({type:"log",content:{values:e}}))(e)}class c{constructor(n="127.0.0.1",r=23517){this.uuid=t.v4(),this.client=e.create({baseURL:`http://${n}:${r}/`})}newScreen(e=""){return this.sendRequest((e=>({type:"new_screen",content:{name:e}}))(e)),this}clearScreen(){return this.newScreen()}color(e){return this.sendRequest((e=>({type:"color",content:{color:e}}))(e)),this}size(e){return this.sendRequest((e=>({type:"size",content:{size:e}}))(e)),this}remove(){return this.sendRequest({type:"remove",content:[]}),this}hide(){return this.sendRequest({type:"hide",content:[]}),this}notify(e){return this.sendRequest({type:"notify",content:{value:e}}),this}die(){process.exit()}showWhen(e){return"function"==typeof e&&(e=e()),e||this.remove(),this}showIf(e){return this.showWhen(e)}removeWhen(e){return"function"==typeof e&&(e=e()),e&&this.remove(),this}removeIf(e){return this.removeWhen(e)}ban(){return this.send("ðŸ•¶")}charles(){return this.send("ðŸŽ¶ ðŸŽ¹ ðŸŽ· ðŸ•º")}send(...e){return 0==e.length||this.sendRequest(...e.map(u)),this}json(e){return this.sendRequest(o(e)),this}pass(e){return this.send(e),e}sendCustom(e,t=""){return this.sendRequest(((e,t)=>({type:"custom",content:{content:e,label:t}}))(e,t)),this}getOrigin(){return n.getSync().find((({fileName:e})=>!e.includes("js-ray/dist/index")))}sendRequest(...e){const t=this.getOrigin(),n={uuid:this.uuid,payloads:e.map((e=>(e.origin={file:t.fileName||"unknown.js",line_number:t.lineNumber||1},e))),meta:[]};this.client.post("/",n)}}i=void 0,(s="client")in(r=c)?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i;const h=(...e)=>(new c).send(...e);export{h as ray};
//# sourceMappingURL=index.min.mjs.map
